<div class="container mt-4">
    <h2 class="text-center mb-4">Gestión de Eventos Culturales</h2>

    <!-- Botón para crear un nuevo evento -->
    <button class="btn btn-primary mb-3" (click)="mostrarFormulario()">Nuevo Evento</button>

    <!-- Tabla de eventos culturales -->
    <table class="table table-bordered">
        <thead class="thead-light">
            <tr>
                <th>Nombre</th>
                <th>Ubicación</th>
                <th>Fecha Inicio</th>
                <th>Fecha Fin</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let evento of eventos">
                <td>{{ evento.nombre }}</td>
                <td>{{ evento.ubicacion }}</td>
                <td>{{ evento.fecha_inicio | date }}</td>
                <td>{{ evento.fecha_fin | date }}</td>
                <td>
                    <button class="btn btn-info btn-sm" (click)="verDetalles(evento.idEvento)">
                        Ver
                    </button>
                    <button class="btn btn-warning btn-sm" (click)="mostrarFormulario(evento)">
                        Editar
                    </button>
                    <button class="btn btn-danger btn-sm" (click)="eliminarEvento(evento.idEvento)">
                        Eliminar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Formulario de creación/edición -->
    <div *ngIf="modoFormulario">
        <h3 *ngIf="eventoSeleccionado">Editar Evento</h3>
        <h3 *ngIf="!eventoSeleccionado">Nuevo Evento</h3>

        <form #eventoForm="ngForm" (ngSubmit)="guardarEvento(eventoSeleccionado)">
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" class="form-control" [(ngModel)]="eventoSeleccionado.nombre"
                    name="nombre" required />
            </div>
            <div class="form-group">
                <label for="ubicacion">Ubicación</label>
                <input type="text" id="ubicacion" class="form-control" [(ngModel)]="eventoSeleccionado.ubicacion"
                    name="ubicacion" required />
            </div>
            <div class="form-group">
                <label for="fecha_inicio">Fecha Inicio</label>
                <input type="date" id="fecha_inicio" class="form-control" [(ngModel)]="eventoSeleccionado.fecha_inicio"
                    name="fecha_inicio" required />
            </div>
            <div class="form-group">
                <label for="fecha_fin">Fecha Fin</label>
                <input type="date" id="fecha_fin" class="form-control" [(ngModel)]="eventoSeleccionado.fecha_fin"
                    name="fecha_fin" required />
            </div>
            <div class="form-group">
                <label for="precio_entrada">Precio de Entrada</label>
                <input type="number" id="precio_entrada" class="form-control"
                    [(ngModel)]="eventoSeleccionado.precio_entrada" name="precio_entrada" required />
            </div>

            <button class="btn btn-success" type="submit">Guardar</button>
            <button class="btn btn-secondary" type="button" (click)="cancelarFormulario()">
                Cancelar
            </button>
        </form>
    </div>
</div>